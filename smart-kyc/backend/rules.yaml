# rules.yaml
# Live-editable KYC rules

thresholds:
  fuzzy_match_threshold: 85  # Fuzzy match score (0-100) for name matching
  high_risk_countries: ["North Korea", "Iran", "Syria", "Sudan"]
  pep_auto_review: true  # Auto-flag PEPs for review
  sanctions_auto_block: true  # Auto-block sanctions matches

rules:
  - id: sanctions_match
    description: "Block if name matches sanctions list above threshold"
    enabled: true
    priority: 1
    conditions:
      - field: "sanctions_match_score"
        op: "gte"
        value: 85
    outcome: "BLOCK"
    
  - id: pep_match
    description: "Review if name matches PEP list"
    enabled: true
    priority: 2
    conditions:
      - field: "pep_match"
        op: "equals"
        value: true
    outcome: "REVIEW"
    
  - id: high_risk_country
    description: "Review if from high-risk country"
    enabled: true
    priority: 3
    conditions:
      - field: "country"
        op: "in"
        value: ["North Korea", "Iran", "Syria", "Sudan"]
    outcome: "REVIEW"
    
  - id: adverse_media_hit
    description: "Review if adverse media found"
    enabled: true
    priority: 4
    conditions:
      - field: "adverse_media_count"
        op: "gt"
        value: 0
    outcome: "REVIEW"
    
  - id: default_approve
    description: "Approve if no other rules triggered"
    enabled: true
    priority: 999
    conditions: []
    outcome: "APPROVE"
